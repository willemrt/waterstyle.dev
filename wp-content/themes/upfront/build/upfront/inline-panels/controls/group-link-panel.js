(function(e){define(["scripts/upfront/inline-panels/controls/link-panel","scripts/upfront/link-model"],function(t,n){var r=Upfront.Settings&&Upfront.Settings.l10n?Upfront.Settings.l10n.global.views:Upfront.mainData.l10n.global.views,i=t.extend({className:"upfront-inline-panel-item group-link-control",initialize:function(e){var t=this;this.options=e||{},this.constructor.__super__.constructor.__super__.initialize.call(this,e),this.icon=this.options.icon,this.tooltip=this.options.tooltip,this.id=this.options.id,this.link=new n({type:this.options.linkType,url:this.options.linkUrl,target:this.options.linkTarget,object:this.options.linkObject,object_id:this.options.linkObjectId}),this.view=new Upfront.Views.Editor.LinkPanel({model:this.link,button:!1,title:r.link_group_to}),this.listenTo(this.link,"change change:target change:type",function(e){t.render_label(),this.trigger("change",{url:e.get("url"),target:e.get("target"),type:e.get("type")})})},label:function(){return this.link.get("type")!="unlink"?r.edit_link:r.not_linked},onClickControl:function(t){this.$el.siblings(".upfront-control-dialog-open").removeClass("upfront-control-dialog-open");if(e(t.target).closest(".inline-panel-control-dialog").length)return;t.preventDefault(),this.isopen?this.close():this.open()}});return i})})(jQuery);